<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
  /*
  Create a web page that allows the user to input movies in the format: title, genre, rating.
The user can enter movies until they enter the character /.
Afterward the user gets the option to enter a genre.
Display the best movies of that genre on the web page. (movies with a rating of 4 and above)
The movies should be displayed in descending order based on their rating.

Example input:

Inception, Sci-Fi, 4.8
The Dark Knight, Action, 4.7
Titanic, Romance, 3.9
The Matrix, Sci-Fi, 4.9
The Godfather, Crime, 5.0
The Shawshank Redemption, Drama, 4.9
The Lion King, Animation, 4.6
Forrest Gump, Drama, 4.8
Avatar, Sci-Fi, 3.5
Pulp Fiction, Crime, 4.6
/
Sci-Fi

Output:
The best Sci-Fi movies:
The Matrix - 4.9
Inception - 4.8
   */

  let movies = [];
  while (true) {
    let input = prompt("Enter movie in format: title, genre, rating");

    if (input === '/') {
      break;
    }

    let parts = input.split(", ");

    if (parts.length !== 3) {
      alert('Invalid format! Enter exactly: title, genre, rating');
    }

    const [title, genre, rating] = parts;

    let rate = parseFloat(rating);

    if (isNaN(rate)) {
      alert("The rating should be a numeric value!");
      continue;
    }

    movies.push({title, genre, rating});
  }

  let selectedGenre = prompt("Enter a genre:");

  let arr = [];

  for (let o of movies) {
    if (o.genre.toLowerCase() === selectedGenre.toLowerCase()) {
      arr.push(o);
    }
  }

  let filtered_Movies = arr.filter(movie => movie.rating >= 4);

  filtered_Movies.sort((a, b) => b.rating - a.rating);// Sort in descending order of rating

  // Display results on the web page
  if (filtered_Movies.length > 0) {
    let result = `<h1>The best ${selectedGenre} movies:</h1><ul>`;
    for (let movie of filtered_Movies) {
      result += `<li>${movie.title} - ${movie.rating}</li>`;
    }
    result += "</ul>";
    document.body.innerHTML = result; // Replace the content of the body with results
  } else {
    document.body.innerHTML = `<h1>No movies found for genre: ${selectedGenre}</h1>`;
  }

</script>

</body>
</html>